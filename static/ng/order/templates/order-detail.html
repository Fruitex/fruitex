<div class="box order-detail">
  <div class="panel-title title-position">
    <i class="glyphicon glyphicon-list padding-horizontal-half"></i>
    <span>Order</span>
    <span class="small text-muted">#{{ order.id || 'Loading...' }}</span>
  </div>
  <div ng-order-status="order.status"></div>
  <div class="clear"></div>
  <div class="icon-list">
    <p ng-if="order.delivery_buckets.length == 0">
      <i class="glyphicon glyphicon-calendar padding-horizontal-half"></i>
      <span class="name">Delivery window</span>
      <span class="detail">
        {{ order.delivery_window.start | date: 'shortTime' }} ~ {{ order.delivery_window.end | date: 'shortTime' }} ({{ order.delivery_window.start | date: 'fullDate' }})
      </span>
    </p>
    <p ng-if="order.delivery_buckets.length != 0" ng-init="delivery_bucket=order.delivery_buckets[order.delivery_buckets.length - 1]">
      <i class="glyphicon glyphicon-time padding-horizontal-half"></i>
      <span class="name">Estimated delivery time</span>
      <span class="detail">
        {{ delivery_bucket.start | date: 'shortTime' }} ~ {{ delivery_bucket.end | date: 'shortTime' }} ({{ delivery_bucket.start | date: 'fullDate' }})
      </span>
    </p>
    <p>
      <i class="glyphicon glyphicon-usd padding-horizontal-half"></i>
      <span class="name">Subtotal</span>
      <span class="detail">
        <span>${{ order.subtotal }}</span>
        <span>+</span>
        <span>${{ order.tax }}(tax)</span>
        <span>=</span>
        <span>${{ order.total }}</span>
      </span>
    </p>
  </div>
  <div class="order-items">
    <div ng-order-items="order.order_items"></div>
  </div>
</div>
